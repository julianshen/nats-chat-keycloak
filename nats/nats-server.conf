server_name: nats-chat-server

jetstream {
  store_dir: /data/jetstream
  max_mem: 64M
  max_file: 4G
}

accounts {
  AUTH {
    users: [
      { user: auth, password: auth-secret-password }
    ]
  }
  CHAT {
    jetstream: enabled
    users: [
      { user: persist-worker, password: persist-worker-secret }
      { user: history-service, password: history-service-secret }
      { user: fanout-service, password: fanout-service-secret }
      { user: presence-service, password: presence-service-secret }
      { user: read-receipt-service, password: read-receipt-service-secret }
      { user: user-search-service, password: user-search-service-secret }
      { user: room-service, password: room-service-secret }
      { user: translation-service, password: translation-service-secret }
      { user: sticker-service, password: sticker-service-secret }
      { user: app-registry-service, password: app-registry-service-secret }
      { user: poll-service, password: poll-service-secret }
    ]
  }
  SYS {}
}

system_account: SYS

authorization {
  auth_callout {
    issuer: ABJHLOVMPA4CI6R5KLNGOB4GSLNIY7IOUPAJC4YFNDLQVIOBYQGUWVLA
    auth_users: [ auth, persist-worker, history-service, fanout-service, presence-service, read-receipt-service, user-search-service, room-service, translation-service, sticker-service, app-registry-service, poll-service ]
    account: AUTH
    xkey: XAB3NANV3M6N7AHSQP2U5FRWKKUT7EG2ZXXABV4XVXYQRJGM4S2CZGHT
  }
}

websocket {
  port: 9222
  no_tls: true
}

debug: false
trace: false
logtime: true
